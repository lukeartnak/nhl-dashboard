{"version":3,"sources":["util/apis.js","components/game-list.jsx","components/logo.jsx","components/game-view.jsx","components/app.jsx","index.js"],"names":["periodNames","1","2","3","4","5","6","periodOrdinals","titles","GAME_START","PERIOD_START","period","concat","PERIOD_END","GAME_END","formatMinutes","minutes","m","Math","floor","s","slice","fetchUpcomingGames","_fetchUpcomingGames","apply","this","arguments","_callee","date","_ref2","data","regenerator_default","a","wrap","_context","prev","next","moment","format","axios","get","sent","abrupt","Promise","all","dates","reduce","acc","games","map","game","fetchGame","stop","formatPlay","play","id","result","eventCode","about","dateTime","type","eventTypeId","team","triCode","players","player","fullName","time","periodTime","title","description","replace","secondaryType","toLowerCase","_callee2","_ref","gamePk","seriesSummary","_ref3","_ref3$data","_ref3$data$gameData","_ref3$data$gameData$t","away","home","_ref3$data$liveData","_ref3$data$liveData$p","allPlays","scoringPlays","penaltyPlays","_ref3$data$liveData$p2","currentPlay","_ref3$data$liveData$l","currentPeriod","currentPeriodTimeRemaining","_ref3$data$liveData$l2","_ref3$data$liveData$l3","awayGoals","awaySkaters","awayShots","_ref3$data$liveData$l4","homeGoals","homeSkaters","homeShots","_ref3$data$liveData$l5","intermissionInfo","_ref3$data$liveData$l6","powerPlayInfo","_context2","gameData","datetime","teams","liveData","plays","linescore","goals","numSkaters","shotsOnGoal","console","log","series","round","number","gameLabel","seriesStatusShort","name","teamName","code","abbreviation","shots","skaters","status","started","length","stopped","ended","periodOrdinal","periodClock","powerplay","inSituation","powerplaySide","powerplayClock","situationTimeRemaining","intermission","inIntermission","intermissionClock","intermissionTimeRemaining","Object","toConsumableArray","i","filter","winnerName","winnerScore","max","loserScore","min","sort","b","diff","fetchGameThreads","_x2","_fetchGameThreads","_callee3","_ref4","children","_context3","child","_child$data","created","find","includes","abs","formatComment","comment","flairPattern","author","test","author_flair_text","exec","body","decode","body_html","fetchComments","_x3","_fetchComments","_callee4","_ref5","_ref5$data","_context4","slicedToArray","GameListWrapper","styled","div","_templateObject","selected","css","_templateObject2","disabled","_templateObject3","GameWrapper","_templateObject4","props","TeamColumn","_templateObject5","TeamName","span","_templateObject6","TeamGoals","_templateObject7","StatusColumn","_templateObject8","GamePeriod","_templateObject9","GameClock","_templateObject10","Game","onSelect","showDate","showPeriod","showFinal","showIntermission","react_default","createElement","onClick","react","GameList","selectedGameId","onSelectGame","assign","key","ANA","common","logo_templateObject","logo_templateObject2","logo_templateObject3","ARI","logo_templateObject4","logo_templateObject5","logo_templateObject6","BOS","logo_templateObject7","logo_templateObject8","logo_templateObject9","BUF","logo_templateObject10","_templateObject11","_templateObject12","CAR","_templateObject13","_templateObject14","_templateObject15","CBJ","_templateObject16","_templateObject17","_templateObject18","CGY","_templateObject19","_templateObject20","_templateObject21","CHI","_templateObject22","_templateObject23","_templateObject24","COL","_templateObject25","_templateObject26","_templateObject27","DAL","_templateObject28","_templateObject29","_templateObject30","DET","_templateObject31","_templateObject32","_templateObject33","EDM","_templateObject34","_templateObject35","_templateObject36","FLA","_templateObject37","_templateObject38","_templateObject39","LAK","_templateObject40","_templateObject41","_templateObject42","MIN","_templateObject43","_templateObject44","_templateObject45","MTL","_templateObject46","_templateObject47","_templateObject48","NJD","_templateObject49","_templateObject50","_templateObject51","NSH","_templateObject52","_templateObject53","_templateObject54","NYI","_templateObject55","_templateObject56","_templateObject57","NYR","_templateObject58","_templateObject59","_templateObject60","OTT","_templateObject61","_templateObject62","_templateObject63","PHI","_templateObject64","_templateObject65","_templateObject66","PIT","_templateObject67","_templateObject68","_templateObject69","SJS","_templateObject70","_templateObject71","_templateObject72","STL","_templateObject73","_templateObject74","_templateObject75","TBL","_templateObject76","_templateObject77","_templateObject78","TOR","_templateObject79","_templateObject80","_templateObject81","VAN","_templateObject82","_templateObject83","_templateObject84","VGK","_templateObject85","_templateObject86","_templateObject87","WPG","_templateObject88","_templateObject89","_templateObject90","WSH","_templateObject91","_templateObject92","_templateObject93","Logo","className","src","alt","GameViewWrapper","game_view_templateObject","BoxscoreSection","section","game_view_templateObject2","PlaysSection","game_view_templateObject3","CommentsSection","game_view_templateObject4","GameTitle","game_view_templateObject5","game_view_templateObject6","TeamLogo","game_view_templateObject7","side","game_view_templateObject8","game_view_templateObject9","TeamShots","game_view_templateObject10","game_view_templateObject11","game_view_templateObject12","game_view_templateObject13","specialTeamStyles","even","game_view_templateObject14","game_view_templateObject15","game_view_templateObject16","SpecialTeam","game_view_templateObject17","themes","GOAL","PENALTY","Play","game_view_templateObject18","PlayLogo","game_view_templateObject19","PlayTitle","game_view_templateObject20","PlayTime","game_view_templateObject21","Comment","game_view_templateObject22","CommentLogo","game_view_templateObject23","CommentBody","game_view_templateObject24","CommentText","game_view_templateObject25","CommentAuthor","game_view_templateObject26","GameView","comments","showPowerplay","game_view_TeamColumn","game_view_TeamName","game_view_TeamGoals","game_view_StatusColumn","game_view_GamePeriod","game_view_GameClock","dangerouslySetInnerHTML","__html","ApplicationWrapper","app_templateObject","fill","keyframes","app_templateObject2","RefreshTimer","app_templateObject3","Application","_Component","_getPrototypeOf2","_this","classCallCheck","_len","args","Array","_key","possibleConstructorReturn","getPrototypeOf","call","state","threads","commentsById","inherits","createClass","value","_componentDidMount","asyncToGenerator","mark","refreshGames","refreshGameThreads","refreshComments","_this2","setState","thread","objectSpread","defineProperty","setInterval","_this3","_this$state","t","Component","ReactDOM","render","app_Application","document","getElementById"],"mappings":"qUAIMA,EAAc,CAClBC,EAAG,aACHC,EAAG,aACHC,EAAG,aACHC,EAAG,WACHC,EAAG,kBACHC,EAAG,mBAGCC,EAAiB,CACrBN,EAAG,MACHC,EAAG,MACHC,EAAG,MACHC,EAAG,KACHC,EAAG,MACHC,EAAG,OAGCE,EAAS,CACbC,WAAY,iBAAM,iBAClBC,aAAc,SAAAC,GAAM,kBAAAC,OAAgBD,IACpCE,WAAY,SAAAF,GAAM,gBAAAC,OAAcD,IAChCG,SAAU,iBAAM,gBAGlB,SAASC,EAAcC,GACrB,IAAMC,EAAIC,KAAKC,MAAMH,EAAU,IACzBI,EAAIF,KAAKC,MAAMH,EAAU,IAC/B,SAAAJ,OAAUK,EAAV,KAAAL,QAAgB,KAAOQ,GAAGC,OAAO,IAG5B,SAAeC,IAAtB,OAAAC,EAAAC,MAAAC,KAAAC,sDAAO,SAAAC,IAAA,IAAAC,EAAAC,EAAAC,EAAA,OAAAC,EAAAC,EAAAC,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cACCR,EAAOS,MAASC,OAAO,cADxBJ,EAAAE,KAAA,EAEkBG,IAAMC,IAAN,kHAAA5B,OAC6FgB,EAD7F,aAAAhB,OAC6GgB,IAH/H,cAAAC,EAAAK,EAAAO,KAEGX,EAFHD,EAEGC,KAFHI,EAAAQ,OAAA,SAKEC,QAAQC,IACbd,EAAKe,MAAMC,OACT,SAACC,EAAKnB,GAAN,OAAemB,EAAInC,OAAOgB,EAAKoB,MAAMC,IAAI,SAAAC,GAAI,OAAIC,EAAUD,OAC3D,MARC,wBAAAhB,EAAAkB,SAAAzB,EAAAF,gCAaP,SAAS4B,EAAWC,GAClB,MAAO,CACLC,GAAID,EAAKE,OAAOC,UAChB7B,KAAMS,IAAOiB,EAAKI,MAAMC,UACxBC,KAAMN,EAAKE,OAAOK,YAClBC,KAAMR,EAAKQ,MAAQR,EAAKQ,KAAKC,QAC7BC,QAASV,EAAKU,SAAWV,EAAKU,QAAQf,IAAI,SAAAgB,GAAM,OAAIA,EAAOA,OAAOC,WAClEvD,OAAQJ,EAAe+C,EAAKI,MAAM/C,QAClCwD,KAAMb,EAAKI,MAAMU,WACjBC,MAAOf,EAAKE,OAAOc,YAChBC,QAAQ,kBAAmB,IAC3BA,QAAQ,aAAc,gBACtBA,QAAQ,YAAa,IACrBA,QAAQ,KAAM,SACdA,QACCjB,EAAKE,OAAOgB,cACZlB,EAAKE,OAAOgB,cAAcC,eAE3BF,QAAQ,kBAAmB,oBAC3BA,QAAQ,kBAAmB,oBAC3BA,QAAQ,YAAa,cACrBA,QAAQ,4BAA6B,qCAI7BpB,+EAAf,SAAAuB,EAAAC,GAAA,IAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAArB,EAAAsB,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAA,OAAA3E,EAAAC,EAAAC,KAAA,SAAA0E,GAAA,cAAAA,EAAAxE,KAAAwE,EAAAvE,MAAA,cAA2BwC,EAA3BD,EAA2BC,OAAQC,EAAnCF,EAAmCE,cAAnC8B,EAAAvE,KAAA,EAkCYG,IAAMC,IAAN,4CAAA5B,OACoCgE,EADpC,eAlCZ,cAAAE,EAAA6B,EAAAlE,KAAAsC,EAAAD,EAEIhD,KAFJkD,EAAAD,EAGM6B,SACcjD,EAJpBqB,EAIQ6B,SAAYlD,SAJpBsB,EAAAD,EAKQ8B,MAAS5B,EALjBD,EAKiBC,KAAMC,EALvBF,EAKuBE,KALvBC,EAAAL,EAOMgC,SAPN1B,EAAAD,EAQQ4B,MACE1B,EATVD,EASUC,SACAC,EAVVF,EAUUE,aACAC,EAXVH,EAWUG,aAXVC,EAAAJ,EAYUK,mBAZV,IAAAD,EAYwB,CAAEjC,OAAQ,IAZlCiC,EAAAE,EAAAP,EAcQ6B,UACErB,EAfVD,EAeUC,cACAC,EAhBVF,EAgBUE,2BAhBVC,EAAAH,EAiBUmB,MAjBVf,EAAAD,EAkBYZ,KACSc,EAnBrBD,EAmBcmB,MACYjB,EApB1BF,EAoBcoB,WACajB,EArB3BH,EAqBcqB,YArBdjB,EAAAL,EAuBYX,KACSiB,EAxBrBD,EAwBce,MACYb,EAzB1BF,EAyBcgB,WACab,EA1B3BH,EA0BciB,YA1Bdb,EAAAZ,EA6BUa,wBA7BV,IAAAD,EA6B6B,GA7B7BA,EAAAE,EAAAd,EA8BUe,qBA9BV,IAAAD,EA8B0B,GA9B1BA,EAqCEY,QAAQC,IAAIpC,GArCdyB,EAAAjE,OAAA,SAsCS,CACLa,GAAIqB,EACJhD,KAAMS,IAAOsB,GACbU,MACEQ,GAAa,SAAAjE,OACJiE,EAAc0C,OAAOC,MAAMC,OADvB,OAAA7G,OAEXiE,EAAc6C,UAFH,OAAA9G,OAGPiE,EAAc8C,mBAAqB,YAC3CzC,KAAM,CACJ0C,KAAM1C,EAAK0C,KACXC,SAAU3C,EAAK2C,SACfC,KAAM5C,EAAK6C,aACXb,MAAOlB,EACPgC,MAAO9B,EACP+B,QAAShC,GAEXd,KAAM,CACJyC,KAAMzC,EAAKyC,KACXC,SAAU1C,EAAK0C,SACfC,KAAM3C,EAAK4C,aACXb,MAAOd,EACP4B,MAAO1B,EACP2B,QAAS5B,GAEX6B,OAAQ,CACNC,QAAS7C,EAAS8C,OAAS,EAC3BC,QAA4C,kBAAnC3C,EAAYlC,OAAOK,YAC5ByE,MAA0C,aAAnC5C,EAAYlC,OAAOK,YAC1BlD,OAAQX,EAAY4F,GACpB2C,cAAehI,EAAeqF,GAC9B4C,YAAa3C,EACb4C,YAAa/B,EAAcgC,YAC3BC,cACExD,EAAKgC,WAAajC,EAAKiC,WACnB,OACAhC,EAAKgC,WAAajC,EAAKiC,WACvB,OACA,OACNyB,eACElC,EAAcgC,aACd3H,EAAc2F,EAAcmC,wBAC9BC,eAAgBtC,EAAiBuC,eACjCC,kBACExC,EAAiBuC,gBACjBhI,EAAcyF,EAAiByC,4BAEnCjC,MAAOkC,OAAAC,EAAA,EAAAD,CACF3D,EAAatC,IAAI,SAAAmG,GAAC,OAAI/F,EAAWiC,EAAS8D,OADxCxI,OAAAsI,OAAAC,EAAA,EAAAD,CAEF1D,EAAavC,IAAI,SAAAmG,GAAC,OAAI/F,EAAWiC,EAAS8D,OAFxCF,OAAAC,EAAA,EAAAD,CAGF5D,EACA+D,OAAO,SAAA/F,GAAI,OAAI9C,EAAO8C,EAAKE,OAAOK,eAClCZ,IAAI,SAAAK,GAAI,MAAK,CACZC,GAAID,EAAKE,OAAOC,UAChB7B,KAAMS,IAAOiB,EAAKI,MAAMC,UACxBC,KAAMN,EAAKE,OAAOK,YAClBQ,MAAQ,WACN,OAAQf,EAAKE,OAAOK,aAClB,IAAK,eACH,kBAAAjD,OAAmBZ,EAAYsD,EAAKI,MAAM/C,SAC5C,IAAK,aACH,gBAAAC,OAAiBZ,EAAYsD,EAAKI,MAAM/C,SAC1C,IAAK,WACH,IAAM2I,EACJpE,EAAKgC,MAAQ/B,EAAK+B,MACdhC,EAAK6C,aACL5C,EAAK4C,aACLwB,EAAcrI,KAAKsI,IAAItE,EAAKgC,MAAO/B,EAAK+B,OACxCuC,EAAavI,KAAKwI,IAAIxE,EAAKgC,MAAO/B,EAAK+B,OAC7C,SAAAtG,OAAU0I,EAAV,UAAA1I,OAA6B2I,EAA7B,KAAA3I,OAA4C6I,GAC9C,QACE,MAAO,WAfL,QAmBZE,KAAK,SAAC3H,EAAG4H,GAAJ,OAAUA,EAAEhI,KAAKiI,KAAK7H,EAAEJ,UAhHnC,yBAAA+E,EAAAvD,SAAAsB,EAAAjD,gCAoHO,SAAeqI,EAAtBC,GAAA,OAAAC,EAAAxI,MAAAC,KAAAC,sDAAO,SAAAuI,EAAgCjH,GAAhC,IAAAkH,EAAAC,EAAA,OAAApI,EAAAC,EAAAC,KAAA,SAAAmI,GAAA,cAAAA,EAAAjI,KAAAiI,EAAAhI,MAAA,cAAAgI,EAAAhI,KAAA,EAKKG,IAAMC,IAAN,oIALL,cAAA0H,EAAAE,EAAA3H,KAGO0H,EAHPD,EAEHpI,KACEA,KAAQqI,SAHPC,EAAA1H,OAAA,SASEyH,EAASrH,OAAO,SAACC,EAAKsH,GAAU,IAAAC,EACND,EAAMvI,KAA7ByB,EAD6B+G,EAC7B/G,GAAIc,EADyBiG,EACzBjG,MAAOkG,EADkBD,EAClBC,QACbrH,EAAOF,EAAMwH,KAAK,SAAAtH,GAEtB,OADAmE,QAAQC,IAAIpE,EAAKiC,KAAK0C,SAAU3E,EAAKgC,KAAK2C,UAExCxD,EAAMoG,SAASvH,EAAKiC,KAAK0C,WACzBxD,EAAMoG,SAASvH,EAAKgC,KAAK2C,WACzB3G,KAAKwJ,IAAIrI,IAAiB,IAAVkI,GAAgBV,KAAK3G,EAAKtB,KAAM,YAAc,MAGlE,OAAOsB,EAAOH,EAAInC,OAAO,CAAE2C,KAAIL,KAAMA,EAAKK,KAAQR,GACjD,KApBE,wBAAAqH,EAAAhH,SAAA6G,EAAAxI,gCAuBP,SAASkJ,EAAcC,GACrB,IAAMC,EAAe,+BACrB,MAAO,CACLtH,GAAIqH,EAAQrH,GACZuH,OAAQF,EAAQE,OAChBhH,KAAM+G,EAAaE,KAAKH,EAAQI,mBAC5BH,EAAaI,KAAKL,EAAQI,mBAAmB,GAC7C,MACJE,KAAMC,IAAOP,EAAQQ,YAIlB,SAAeC,EAAtBC,GAAA,OAAAC,EAAA/J,MAAAC,KAAAC,sDAAO,SAAA8J,EAA6BjI,GAA7B,IAAAkI,EAAAC,EAAAvB,EAAA,OAAApI,EAAAC,EAAAC,KAAA,SAAA0J,GAAA,cAAAA,EAAAxJ,KAAAwJ,EAAAvJ,MAAA,cAAAuJ,EAAAvJ,KAAA,EAQKG,IAAMC,IAAN,4CAAA5B,OAAsD2C,EAAtD,UARL,cAAAkI,EAAAE,EAAAlJ,KAAAiJ,EAAAxC,OAAA0C,EAAA,EAAA1C,CAAAuC,EAEH3J,KAFG,GAKSqI,EALTuB,EAAA,GAKC5J,KAAQqI,SALTwB,EAAAjJ,OAAA,SAUEyH,EACJ9I,MAAM,EAAG8I,EAAS/B,OAAS,GAC3BnF,IAAI,SAAAoH,GAAK,OAAIM,EAAcN,EAAMvI,SAZ/B,wBAAA6J,EAAAvI,SAAAoI,EAAA/J,06CC5NP,IAAMoK,EAAkBC,IAAOC,IAAVC,KAOfC,EAAWC,YAAHC,KAKRC,EAAWF,YAAHG,KAKRC,GAAcR,IAAOC,IAAVQ,IAKb,SAAAC,GAAK,OAAIA,EAAMP,UAAYA,GAC3B,SAAAO,GAAK,OAAIA,EAAMJ,UAAYA,GAEzBH,GAIAQ,GAAaX,IAAOC,IAAVW,KAQVC,GAAWb,IAAOc,KAAVC,KAKRC,GAAYhB,IAAOc,KAAVG,KAKTC,GAAelB,IAAOC,IAAVkB,KAQZC,GAAapB,IAAOc,KAAVO,KAKVC,GAAYtB,IAAOc,KAAVS,IAIX,SAAAb,GAAK,OAAIA,EAAMnE,SAAW,oBAG9B,SAASiF,GAAT3I,GAAoE,IAApDpB,EAAoDoB,EAApDpB,GAAI3B,EAAgD+C,EAAhD/C,KAAMuD,EAA0CR,EAA1CQ,KAAMD,EAAoCP,EAApCO,KAAMgD,EAA8BvD,EAA9BuD,OAAQ+D,EAAsBtH,EAAtBsH,SAAUsB,EAAY5I,EAAZ4I,SAChDC,GAAYtF,EAAOC,UAAYD,EAAOI,QAAUJ,EAAOY,aACvD2E,EAAavF,EAAOC,UAAYD,EAAOI,QAAUJ,EAAOY,aACxD4E,EAAYxF,EAAOC,SAAWD,EAAOI,QAAUJ,EAAOY,aACtD6E,EACJzF,EAAOC,UAAYD,EAAOI,OAASJ,EAAOY,aAC5C,OACE8E,EAAA5L,EAAA6L,cAACvB,GAAD,CACEwB,QAAS,kBAAMP,EAAShK,IACxB0I,SAAUA,EACVG,SAAUxK,EAAKiI,KAAKxH,MAAU,WAAa,IAE3CuL,EAAA5L,EAAA6L,cAACpB,GAAD,CAAY3I,KAAMoB,EAAK4C,MACrB8F,EAAA5L,EAAA6L,cAAClB,GAAD,KAAWzH,EAAK4C,MAChB8F,EAAA5L,EAAA6L,cAACf,GAAD,KAAY5H,EAAKgC,QAEnB0G,EAAA5L,EAAA6L,cAACb,GAAD,KACGQ,GACCI,EAAA5L,EAAA6L,cAACE,EAAA,SAAD,KACEH,EAAA5L,EAAA6L,cAACX,GAAD,KAAatL,EAAKU,OAAO,WACzBsL,EAAA5L,EAAA6L,cAACT,GAAD,KAAYxL,EAAKU,OAAO,YAG3BmL,GACCG,EAAA5L,EAAA6L,cAACE,EAAA,SAAD,KACEH,EAAA5L,EAAA6L,cAACX,GAAD,KAAahF,EAAOK,eACpBqF,EAAA5L,EAAA6L,cAACT,GAAD,KAAYlF,EAAOM,cAGtBmF,GACCC,EAAA5L,EAAA6L,cAACE,EAAA,SAAD,KACEH,EAAA5L,EAAA6L,cAACX,GAAD,YAAiBhF,EAAOK,eACxBqF,EAAA5L,EAAA6L,cAACT,GAAD,KAAYlF,EAAOc,oBAGtB0E,GAAaE,EAAA5L,EAAA6L,cAACX,GAAD,eAEhBU,EAAA5L,EAAA6L,cAACpB,GAAD,CAAY3I,KAAMqB,EAAK2C,MACrB8F,EAAA5L,EAAA6L,cAAClB,GAAD,KAAWxH,EAAK2C,MAChB8F,EAAA5L,EAAA6L,cAACf,GAAD,KAAY3H,EAAK+B,SAMlB,SAAS8G,GAATnM,GAA2D,IAAvCmB,EAAuCnB,EAAvCmB,MAAOiL,EAAgCpM,EAAhCoM,eAAgBC,EAAgBrM,EAAhBqM,aAChD,OACEN,EAAA5L,EAAA6L,cAAChC,EAAD,KACG7I,EAAMC,IAAI,SAAAC,GAAI,OACb0K,EAAA5L,EAAA6L,cAACP,GAADpE,OAAAiF,OAAA,CACEC,IAAKlL,EAAKK,IACNL,EAFN,CAGE+I,SAAU/I,EAAKK,KAAO0K,EACtBV,SAAUW,4yVCxHb,IAAMpH,GAAQ,CACnBuH,IAAK,CACHC,OAAQpC,YAAFqC,MAGNrJ,KAAMgH,YAAFsC,MAGJrJ,KAAM+G,YAAFuC,OAKNC,IAAK,CACHJ,OAAQpC,YAAFyC,MAGNzJ,KAAMgH,YAAF0C,MAGJzJ,KAAM+G,YAAF2C,OAKNC,IAAK,CACHR,OAAQpC,YAAF6C,MAGN7J,KAAMgH,YAAF8C,MAGJ7J,KAAM+G,YAAF+C,OAINC,IAAK,CACHZ,OAAQpC,YAAFiD,MAGNjK,KAAMgH,YAAFkD,MAIJjK,KAAM+G,YAAFmD,OAINC,IAAK,CACHhB,OAAQpC,YAAFqD,MAGNrK,KAAMgH,YAAFsD,MAGJrK,KAAM+G,YAAFuD,OAKNC,IAAK,CACHpB,OAAQpC,YAAFyD,MAGNzK,KAAMgH,YAAF0D,MAGJzK,KAAM+G,YAAF2D,OAKNC,IAAK,CACHxB,OAAQpC,YAAF6D,MAGN7K,KAAMgH,YAAF8D,MAGJ7K,KAAM+G,YAAF+D,OAKNC,IAAK,CACH5B,OAAQpC,YAAFiE,MAGNjL,KAAMgH,YAAFkE,MAIJjL,KAAM+G,YAAFmE,OAINC,IAAK,CACHhC,OAAQpC,YAAFqE,MAGNrL,KAAMgH,YAAFsE,MAGJrL,KAAM+G,YAAFuE,OAKNC,IAAK,CACHpC,OAAQpC,YAAFyE,MAGNzL,KAAMgH,YAAF0E,MAGJzL,KAAM+G,YAAF2E,OAKNC,IAAK,CACHxC,OAAQpC,YAAF6E,MAGN7L,KAAMgH,YAAF8E,MAIJ7L,KAAM+G,YAAF+E,OAINC,IAAK,CACH5C,OAAQpC,YAAFiF,MAGNjM,KAAMgH,YAAFkF,MAGJjM,KAAM+G,YAAFmF,OAINC,IAAK,CACHhD,OAAQpC,YAAFqF,MAGNrM,KAAMgH,YAAFsF,MAIJrM,KAAM+G,YAAFuF,OAINC,IAAK,CACHpD,OAAQpC,YAAFyF,MAGNzM,KAAMgH,YAAF0F,MAGJzM,KAAM+G,YAAF2F,OAINC,IAAK,CACHxD,OAAQpC,YAAF6F,MAGN7M,KAAMgH,YAAF8F,MAIJ7M,KAAM+G,YAAF+F,OAINC,IAAK,CACH5D,OAAQpC,YAAFiG,MAGNjN,KAAMgH,YAAFkG,MAGJjN,KAAM+G,YAAFmG,OAKNC,IAAK,CACHhE,OAAQpC,YAAFqG,MAGNrN,KAAMgH,YAAFsG,MAGJrN,KAAM+G,YAAFuG,OAINC,IAAK,CACHpE,OAAQpC,YAAFyG,MAGNzN,KAAMgH,YAAF0G,MAGJzN,KAAM+G,YAAF2G,OAKNC,IAAK,CACHxE,OAAQpC,YAAF6G,MAGN7N,KAAMgH,YAAF8G,MAGJ7N,KAAM+G,YAAF+G,OAINC,IAAK,CACH5E,OAAQpC,YAAFiH,MAGNjO,KAAMgH,YAAFkH,MAGJjO,KAAM+G,YAAFmH,OAINC,IAAK,CACHhF,OAAQpC,YAAFqH,MAGNrO,KAAMgH,YAAFsH,MAGJrO,KAAM+G,YAAFuH,OAKNC,IAAK,CACHpF,OAAQpC,YAAFyH,MAGNzO,KAAMgH,YAAF0H,MAGJzO,KAAM+G,YAAF2H,OAKNC,IAAK,CACHxF,OAAQpC,YAAF6H,MAGN7O,KAAMgH,YAAF8H,MAIJ7O,KAAM+G,YAAF+H,OAINC,IAAK,CACH5F,OAAQpC,YAAFiI,MAGNjP,KAAMgH,YAAFkI,MAGJjP,KAAM+G,YAAFmI,OAKNC,IAAK,CACHhG,OAAQpC,YAAFqI,MAGNrP,KAAMgH,YAAFsI,MAGJrP,KAAM+G,YAAFuI,OAKNC,IAAK,CACHpG,OAAQpC,YAAFyI,MAGNzP,KAAMgH,YAAF0I,MAGJzP,KAAM+G,YAAF2I,OAINC,IAAK,CACHxG,OAAQpC,YAAF6I,MAGN7P,KAAMgH,YAAF8I,MAGJ7P,KAAM+G,YAAF+I,OAINC,IAAK,CACH5G,OAAQpC,YAAFiJ,MAGNjQ,KAAMgH,YAAFkJ,MAGJjQ,KAAM+G,YAAFmJ,OAKNC,IAAK,CACHhH,OAAQpC,YAAFqJ,MAGNrQ,KAAMgH,YAAFsJ,MAGJrQ,KAAM+G,YAAFuJ,OAKNC,IAAK,CACHpH,OAAQpC,YAAFyJ,MAGNzQ,KAAMgH,YAAF0J,MAGJzQ,KAAM+G,YAAF2J,OAKNC,IAAK,CACHxH,OAAQpC,YAAF6J,MAGN7Q,KAAMgH,YAAF8J,MAGJ7Q,KAAM+G,YAAF+J,QAMD,SAASC,GAATvR,GAAmC,IAAnBb,EAAmBa,EAAnBb,KAAMqS,EAAaxR,EAAbwR,UAC3B,OACEvI,EAAA5L,EAAA6L,cAAA,OACEsI,UAAWA,EACXC,IAAG,cAAAxV,OAAgBkD,EAAKW,cAArB,QACH4R,IAAG,GAAAzV,OAAKkD,EAAL,svJClXT,IAAMwS,GAAkBxK,IAAOC,IAAVwK,MAWfC,GAAkB1K,IAAO2K,QAAVC,MAOfC,GAAe7K,IAAO2K,QAAVG,MAIZC,GAAkB/K,IAAO2K,QAAVK,MAIfC,GAAYjL,IAAOC,IAAViL,MAYTvK,GAAaX,IAAOC,IAAVkL,MAcVC,GAAWpL,IAAOC,IAAVoL,KAOwB,SAAA3K,GAAK,OACvCA,EAAM1I,KAAKW,eAEX,SAAA+H,GAAK,OAAI1F,GAAM0F,EAAM1I,MAAMwK,QAC3B,SAAA9B,GAAK,OAAI1F,GAAM0F,EAAM1I,MAAM0I,EAAM4K,QAG/BzK,GAAWb,IAAOc,KAAVyK,MAIRvK,GAAYhB,IAAOc,KAAV0K,MAKTC,GAAYzL,IAAOc,KAAV4K,MAKTxK,GAAelB,IAAOC,IAAV0L,MASZvK,GAAapB,IAAOc,KAAV8K,MAIVtK,GAAYtB,IAAOc,KAAV+K,KAKX,SAAAnL,GAAK,OAAIA,EAAMnE,SAAW,oBAGxBuP,GAAoB,CACxBC,KAAM3L,YAAF4L,MAKJ5S,KAAMgH,YAAF6L,MAKJ5S,KAAM+G,YAAF8L,OAOAC,GAAcnM,IAAOC,IAAVmM,KAKb,SAAA1L,GAAK,OAAIoL,GAAkBpL,EAAM4K,QAG/Be,GAAS,CACbC,KAAM,yBACNC,QAAS,yBACT3X,aAAc,yBACdG,WAAY,yBACZC,SAAU,yBAGNwX,GAAOxM,IAAOC,IAAVwM,KAKM,SAAA/L,GAAK,OAAI2L,GAAO3L,EAAM5I,QAIhC4U,GAAW1M,YAAOoK,GAAPpK,CAAH2M,MAMRC,GAAY5M,IAAOc,KAAV+L,MAOTC,GAAW9M,IAAOC,IAAV8M,MAgBRC,GAAUhN,IAAOC,IAAVgN,MAqDPC,GAAclN,YAAOoK,GAAPpK,CAAHmN,MAOXC,GAAcpN,IAAOC,IAAVoN,MAKXC,GAActN,IAAOC,IAAVsN,MAIXC,GAAgBxN,IAAOc,KAAV2M,MAOZ,SAASC,GAAT7U,GAAwE,IAApD/C,EAAoD+C,EAApD/C,KAAMyC,EAA8CM,EAA9CN,MAAOc,EAAuCR,EAAvCQ,KAAMD,EAAiCP,EAAjCO,KAAMgD,EAA2BvD,EAA3BuD,OAAQlB,EAAmBrC,EAAnBqC,MAAOyS,EAAY9U,EAAZ8U,SAC3DjM,GAAYtF,EAAOC,UAAYD,EAAOI,QAAUJ,EAAOY,aACvD2E,EAAavF,EAAOC,UAAYD,EAAOI,QAAUJ,EAAOY,aACxD4E,EAAYxF,EAAOC,SAAWD,EAAOI,QAAUJ,EAAOY,aACtD6E,EACJzF,EAAOC,UAAYD,EAAOI,OAASJ,EAAOY,aACtC4Q,EAAgBxR,EAAOC,UAAYD,EAAOI,OAASJ,EAAOO,UAChE,OACEmF,EAAA5L,EAAA6L,cAACyI,GAAD,KACE1I,EAAA5L,EAAA6L,cAAC2I,GAAD,KACE5I,EAAA5L,EAAA6L,cAACkJ,GAAD,KACEnJ,EAAA5L,EAAA6L,cAAA,YACG3I,EAAK0C,KADR,OACkBzC,EAAKyC,MAEvBgG,EAAA5L,EAAA6L,cAAA,YAAOxJ,IAETuJ,EAAA5L,EAAA6L,cAAC8L,GAAD,KACE/L,EAAA5L,EAAA6L,cAACqJ,GAAD,CAAUpT,KAAMoB,EAAK4C,KAAMsP,KAAK,SAChCxJ,EAAA5L,EAAA6L,cAAC+L,GAAD,KAAW1U,EAAK4C,MAChB8F,EAAA5L,EAAA6L,cAACgM,GAAD,KAAY3U,EAAKgC,OACjB0G,EAAA5L,EAAA6L,cAAC0J,GAAD,KAAYrS,EAAK8C,MAAjB,WAEF4F,EAAA5L,EAAA6L,cAACiM,GAAD,KACGtM,GACCI,EAAA5L,EAAA6L,cAACE,EAAA,SAAD,KACEH,EAAA5L,EAAA6L,cAACkM,GAAD,KAAanY,EAAKU,OAAO,WACzBsL,EAAA5L,EAAA6L,cAACmM,GAAD,KAAYpY,EAAKU,OAAO,YAG3BmL,GACCG,EAAA5L,EAAA6L,cAACE,EAAA,SAAD,KACEH,EAAA5L,EAAA6L,cAACkM,GAAD,KAAa7R,EAAOK,eACpBqF,EAAA5L,EAAA6L,cAACmM,GAAD,CAAW3R,QAASH,EAAOG,SACxBH,EAAOM,cAIbmF,GACCC,EAAA5L,EAAA6L,cAACE,EAAA,SAAD,KACEH,EAAA5L,EAAA6L,cAACkM,GAAD,YAAiB7R,EAAOK,eACxBqF,EAAA5L,EAAA6L,cAACmM,GAAD,KAAY9R,EAAOc,oBAGtB0E,GAAaE,EAAA5L,EAAA6L,cAACkM,GAAD,eAEhBnM,EAAA5L,EAAA6L,cAAC8L,GAAD,KACE/L,EAAA5L,EAAA6L,cAACqJ,GAAD,CAAUpT,KAAMqB,EAAK2C,KAAMsP,KAAK,SAChCxJ,EAAA5L,EAAA6L,cAAC+L,GAAD,KAAWzU,EAAK2C,MAChB8F,EAAA5L,EAAA6L,cAACgM,GAAD,KAAY1U,EAAK+B,OACjB0G,EAAA5L,EAAA6L,cAAC0J,GAAD,KAAYpS,EAAK6C,MAAjB,WAED0R,GACC9L,EAAA5L,EAAA6L,cAACoK,GAAD,CAAab,KAAMlP,EAAOS,eACvBxD,EAAK8C,QAAU/C,EAAK+C,QACnB2F,EAAA5L,EAAA6L,cAACkM,GAAD,KACG5U,EAAK8C,QADR,OACqB/C,EAAK+C,SAG1B2F,EAAA5L,EAAA6L,cAACkM,GAAD,KACG7U,EAAK+C,QADR,OACqB9C,EAAK8C,SAG5B2F,EAAA5L,EAAA6L,cAACmM,GAAD,KAAY9R,EAAOU,kBAIzBgF,EAAA5L,EAAA6L,cAAC8I,GAAD,KACG3P,EAAM/D,IAAI,SAAAK,GAAI,OACbsK,EAAA5L,EAAA6L,cAACyK,GAAD,CAAMlK,IAAK9K,EAAKC,GAAIK,KAAMN,EAAKM,MAC7BgK,EAAA5L,EAAA6L,cAAC2K,GAAD,CAAU1U,KAAMR,EAAKQ,KAAOR,EAAKQ,KAAOoB,EAAK4C,OAC7C8F,EAAA5L,EAAA6L,cAAC6K,GAAD,KAAYpV,EAAKe,OAChBf,EAAKQ,KACJ8J,EAAA5L,EAAA6L,cAAC+K,GAAD,KACEhL,EAAA5L,EAAA6L,cAAA,YAAOvK,EAAK3C,QACZiN,EAAA5L,EAAA6L,cAAA,YAAOvK,EAAKa,OAGdyJ,EAAA5L,EAAA6L,cAAC2K,GAAD,CAAU1U,KAAMqB,EAAK2C,WAK7B8F,EAAA5L,EAAA6L,cAACgJ,GAAD,KACG4C,EAASpY,MAAM,EAAG,IAAI4B,IAAI,SAAA2H,GAAO,OAChCgD,EAAA5L,EAAA6L,cAACiL,GAAD,CAAS1K,IAAKxD,EAAQrH,IACpBqK,EAAA5L,EAAA6L,cAACmL,GAAD,CAAalV,KAAM8G,EAAQ9G,OAC3B8J,EAAA5L,EAAA6L,cAACqL,GAAD,KACEtL,EAAA5L,EAAA6L,cAACyL,GAAD,KAAgB1O,EAAQE,QACxB8C,EAAA5L,EAAA6L,cAACuL,GAAD,CAAaa,wBAAyB,CAAEC,OAAQtP,EAAQM,gnBC3UtE,IAAMiP,GAAqBrO,IAAOC,IAAVqO,MAYlBC,GAAOC,YAAHC,MAMJC,GAAe1O,IAAOC,IAAV0O,KAOHJ,IAIFK,GAAb,SAAAC,GAAA,SAAAD,IAAA,IAAAE,EAAAC,EAAA3R,OAAA4R,EAAA,EAAA5R,CAAAzH,KAAAiZ,GAAA,QAAAK,EAAArZ,UAAA0G,OAAA4S,EAAA,IAAAC,MAAAF,GAAAG,EAAA,EAAAA,EAAAH,EAAAG,IAAAF,EAAAE,GAAAxZ,UAAAwZ,GAAA,OAAAL,EAAA3R,OAAAiS,EAAA,EAAAjS,CAAAzH,MAAAmZ,EAAA1R,OAAAkS,EAAA,EAAAlS,CAAAwR,IAAAW,KAAA7Z,MAAAoZ,EAAA,CAAAnZ,MAAAb,OAAAoa,MACEM,MAAQ,CACNtY,MAAO,GACPuY,QAAS,GACTC,aAAc,GACdvN,eAAgB,MALpB4M,EAAA,OAAA3R,OAAAuS,EAAA,EAAAvS,CAAAwR,EAAAC,GAAAzR,OAAAwS,EAAA,EAAAxS,CAAAwR,EAAA,EAAAtM,IAAA,oBAAAuN,MAAA,eAAAC,EAAA1S,OAAA2S,EAAA,EAAA3S,CAAAnH,EAAAC,EAAA8Z,KAAA,SAAAtQ,IAAA,IAAAuQ,EAAAC,EAAAC,EAAAC,EAAAza,KAAA,OAAAM,EAAAC,EAAAC,KAAA,SAAA0J,GAAA,cAAAA,EAAAxJ,KAAAwJ,EAAAvJ,MAAA,cASU2Z,EATV,eAAApX,EAAAuE,OAAA2S,EAAA,EAAA3S,CAAAnH,EAAAC,EAAA8Z,KASyB,SAAAna,IAAA,IAAAqB,EAAA,OAAAjB,EAAAC,EAAAC,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cAAAF,EAAAE,KAAA,EACCd,IADD,OACb0B,EADad,EAAAO,KAEnByZ,EAAKC,SAAS,CAAEnZ,UAFG,wBAAAd,EAAAkB,SAAAzB,EAAAF,SATzB,yBAAAkD,EAAAnD,MAAAC,KAAAC,YAAA,GAcUsa,EAdV,eAAAna,EAAAqH,OAAA2S,EAAA,EAAA3S,CAAAnH,EAAAC,EAAA8Z,KAc+B,SAAApX,IAAA,IAAA6W,EAAA,OAAAxZ,EAAAC,EAAAC,KAAA,SAAA0E,GAAA,cAAAA,EAAAxE,KAAAwE,EAAAvE,MAAA,cAAAuE,EAAAvE,KAAA,EACH0H,EAAiBoS,EAAKZ,MAAMtY,OADzB,OACnBuY,EADmB5U,EAAAlE,KAEzByZ,EAAKC,SAAS,CAAEZ,YAFS,wBAAA5U,EAAAvD,SAAAsB,EAAAjD,SAd/B,yBAAAI,EAAAL,MAAAC,KAAAC,YAAA,GAmBUua,EAnBV,eAAAnX,EAAAoE,OAAA2S,EAAA,EAAA3S,CAAAnH,EAAAC,EAAA8Z,KAmB4B,SAAA7R,IAAA,IAAAsR,EAAA9B,EAAA,OAAA1X,EAAAC,EAAAC,KAAA,SAAAmI,GAAA,cAAAA,EAAAjI,KAAAiI,EAAAhI,MAAA,cACdmZ,EAAYW,EAAKZ,MAAjBC,QADcnR,EAAAhI,KAAA,EAECO,QAAQC,IAC7B2Y,EAAQtY,IAAI,SAAAmZ,GAAM,OAAI/Q,EAAc+Q,EAAO7Y,OAHvB,OAEhBkW,EAFgBrP,EAAA3H,KAKtByZ,EAAKC,SAAS,SAAAb,GAAK,MAAK,CACtBE,aAAc/B,EAAS3W,OACrB,SAACC,EAAK6H,EAASxB,GAAf,OAAAF,OAAAmT,EAAA,EAAAnT,CAAA,GAA2BnG,EAA3BmG,OAAAoT,EAAA,EAAApT,CAAA,GAAiCqS,EAAQnS,GAAG7F,GAAKqH,KACjD0Q,EAAME,iBARY,wBAAApR,EAAAhH,SAAA6G,EAAAxI,SAnB5B,yBAAAqD,EAAAtD,MAAAC,KAAAC,YAAA,GAgCI6a,YAAY,kBAAMR,KAAgB,MAClCQ,YAAY,kBAAMP,KAAsB,KACxCO,YAAY,kBAAMN,KAAmB,KAlCzCtQ,EAAAvJ,KAAA,EAoCU2Z,IApCV,cAAApQ,EAAAvJ,KAAA,GAqCU4Z,IArCV,QAsCIC,IAtCJ,yBAAAtQ,EAAAvI,SAAAoI,EAAA/J,SAAA,yBAAAma,EAAApa,MAAAC,KAAAC,YAAA,KAAA0M,IAAA,SAAAuN,MAAA,WAyCW,IAAAa,EAAA/a,KAAAgb,EACkDhb,KAAK6Z,MAAtDtY,EADDyZ,EACCzZ,MAAOuY,EADRkB,EACQlB,QAASC,EADjBiB,EACiBjB,aAAcvN,EAD/BwO,EAC+BxO,eAChC/K,EAAOF,EAAMwH,KAAK,SAAAtH,GAAI,OAAIA,EAAKK,KAAO0K,KAAmB,GACzDmO,EAASb,EAAQ/Q,KAAK,SAAAkS,GAAC,OAAIA,EAAExZ,OAASA,EAAKK,MAAO,GAExD,OACEqK,EAAA5L,EAAA6L,cAACsM,GAAD,KACEvM,EAAA5L,EAAA6L,cAAC2M,GAAD,MACA5M,EAAA5L,EAAA6L,cAACG,GAAD,CACEhL,MAAOA,EACPiL,eAAgBA,EAChBC,aAAc,SAAAD,GAAc,OAAIuO,EAAKL,SAAS,CAAElO,sBAEjD/K,EAAKK,IACJqK,EAAA5L,EAAA6L,cAAC2L,GAADtQ,OAAAiF,OAAA,GAAcjL,EAAd,CAAoBuW,SAAU+B,EAAaY,EAAO7Y,KAAO,WAvDnEmX,EAAA,CAAiCiC,aCnCjCC,IAASC,OAAOjP,EAAA5L,EAAA6L,cAACiP,GAAD,MAAiBC,SAASC,eAAe","file":"static/js/main.6ea5de5d.chunk.js","sourcesContent":["import axios from \"axios\";\nimport moment from \"moment\";\nimport decode from \"decode-html\";\n\nconst periodNames = {\n  1: \"1st Period\",\n  2: \"2nd Period\",\n  3: \"3rd Period\",\n  4: \"Overtime\",\n  5: \"Double Overtime\",\n  6: \"Triple Overtime\"\n};\n\nconst periodOrdinals = {\n  1: \"1st\",\n  2: \"2nd\",\n  3: \"3rd\",\n  4: \"OT\",\n  5: \"2OT\",\n  6: \"3OT\"\n};\n\nconst titles = {\n  GAME_START: () => \"Start of Game\",\n  PERIOD_START: period => `Start of ${period}`,\n  PERIOD_END: period => `End of ${period}`,\n  GAME_END: () => \"End of Game\"\n};\n\nfunction formatMinutes(minutes) {\n  const m = Math.floor(minutes / 60);\n  const s = Math.floor(minutes % 60);\n  return `${m}:${(\"00\" + s).slice(-2)}`;\n}\n\nexport async function fetchUpcomingGames() {\n  const date = moment().format(\"YYYY-MM-DD\");\n  const { data } = await axios.get(\n    `https://statsapi.web.nhl.com/api/v1/schedule?expand=schedule.game.seriesSummary,seriesSummary.series&startDate=${date}&endDate=${date}`\n  );\n  return Promise.all(\n    data.dates.reduce(\n      (acc, date) => acc.concat(date.games.map(game => fetchGame(game))),\n      []\n    )\n  );\n}\n\nfunction formatPlay(play) {\n  return {\n    id: play.result.eventCode,\n    date: moment(play.about.dateTime),\n    type: play.result.eventTypeId,\n    team: play.team && play.team.triCode,\n    players: play.players && play.players.map(player => player.player.fullName),\n    period: periodOrdinals[play.about.period],\n    time: play.about.periodTime,\n    title: play.result.description\n      .replace(\", assists: none\", \"\")\n      .replace(\", assists:\", \" assisted by\")\n      .replace(/ \\(\\d+\\)/g, \"\")\n      .replace(\", \", \" and \")\n      .replace(\n        play.result.secondaryType,\n        play.result.secondaryType.toLowerCase()\n      )\n      .replace(\"delaying game -\", \"delaying game by\")\n      .replace(\"delay of game -\", \"delaying game by\")\n      .replace(\"deflected\", \"deflection\")\n      .replace(\"interference - goalkeeper\", \"goaltender interference\")\n  };\n}\n\nasync function fetchGame({ gamePk, seriesSummary }) {\n  const {\n    data: {\n      gameData: {\n        datetime: { dateTime },\n        teams: { away, home }\n      },\n      liveData: {\n        plays: {\n          allPlays,\n          scoringPlays,\n          penaltyPlays,\n          currentPlay = { result: {} }\n        },\n        linescore: {\n          currentPeriod,\n          currentPeriodTimeRemaining,\n          teams: {\n            away: {\n              goals: awayGoals,\n              numSkaters: awaySkaters,\n              shotsOnGoal: awayShots\n            },\n            home: {\n              goals: homeGoals,\n              numSkaters: homeSkaters,\n              shotsOnGoal: homeShots\n            }\n          },\n          intermissionInfo = {},\n          powerPlayInfo = {}\n        }\n      }\n    }\n  } = await axios.get(\n    `https://statsapi.web.nhl.com/api/v1/game/${gamePk}/feed/live`\n  );\n  console.log(away);\n  return {\n    id: gamePk,\n    date: moment(dateTime),\n    title:\n      seriesSummary &&\n      `Round ${seriesSummary.series.round.number} - ${\n        seriesSummary.gameLabel\n      } - ${seriesSummary.seriesStatusShort || \"Tied 0-0\"}`,\n    away: {\n      name: away.name,\n      teamName: away.teamName,\n      code: away.abbreviation,\n      goals: awayGoals,\n      shots: awayShots,\n      skaters: awaySkaters\n    },\n    home: {\n      name: home.name,\n      teamName: home.teamName,\n      code: home.abbreviation,\n      goals: homeGoals,\n      shots: homeShots,\n      skaters: homeSkaters\n    },\n    status: {\n      started: allPlays.length > 1,\n      stopped: currentPlay.result.eventTypeId === \"GAME_STOPPAGE\",\n      ended: currentPlay.result.eventTypeId === \"GAME_END\",\n      period: periodNames[currentPeriod],\n      periodOrdinal: periodOrdinals[currentPeriod],\n      periodClock: currentPeriodTimeRemaining,\n      powerplay: !!powerPlayInfo.inSituation,\n      powerplaySide:\n        home.numSkaters > away.numSkaters\n          ? \"home\"\n          : home.numSkaters < away.numSkaters\n          ? \"away\"\n          : \"even\",\n      powerplayClock:\n        powerPlayInfo.inSituation &&\n        formatMinutes(powerPlayInfo.situationTimeRemaining),\n      intermission: !!intermissionInfo.inIntermission,\n      intermissionClock:\n        intermissionInfo.inIntermission &&\n        formatMinutes(intermissionInfo.intermissionTimeRemaining)\n    },\n    plays: [\n      ...scoringPlays.map(i => formatPlay(allPlays[i])),\n      ...penaltyPlays.map(i => formatPlay(allPlays[i])),\n      ...allPlays\n        .filter(play => titles[play.result.eventTypeId])\n        .map(play => ({\n          id: play.result.eventCode,\n          date: moment(play.about.dateTime),\n          type: play.result.eventTypeId,\n          title: (() => {\n            switch (play.result.eventTypeId) {\n              case \"PERIOD_START\":\n                return `Start of ${periodNames[play.about.period]}`;\n              case \"PERIOD_END\":\n                return `End of ${periodNames[play.about.period]}`;\n              case \"GAME_END\":\n                const winnerName =\n                  away.goals > home.goals\n                    ? away.abbreviation\n                    : home.abbreviation;\n                const winnerScore = Math.max(away.goals, home.goals);\n                const loserScore = Math.min(away.goals, home.goals);\n                return `${winnerName} wins ${winnerScore}-${loserScore}`;\n              default:\n                return \"Unknown\";\n            }\n          })()\n        }))\n    ].sort((a, b) => b.date.diff(a.date))\n  };\n}\n\nexport async function fetchGameThreads(games) {\n  const {\n    data: {\n      data: { children }\n    }\n  } = await axios.get(\n    `https://www.reddit.com/r/hockey/search.json?q=flair%3A%22%5BGDT%5D%22+OR+flair%3A%22%5BPGT%5D%22&restrict_sr=on&sort=new&t=month`\n  );\n\n  return children.reduce((acc, child) => {\n    const { id, title, created } = child.data;\n    const game = games.find(game => {\n      console.log(game.home.teamName, game.away.teamName);\n      return (\n        title.includes(game.home.teamName) &&\n        title.includes(game.away.teamName) &&\n        Math.abs(moment(created * 1000).diff(game.date, \"minutes\")) < 720\n      );\n    });\n    return game ? acc.concat({ id, game: game.id }) : acc;\n  }, []);\n}\n\nfunction formatComment(comment) {\n  const flairPattern = /([A-Z]{3}) - (NHL|Bandwagon)/;\n  return {\n    id: comment.id,\n    author: comment.author,\n    team: flairPattern.test(comment.author_flair_text)\n      ? flairPattern.exec(comment.author_flair_text)[1]\n      : \"nhl\",\n    body: decode(comment.body_html)\n  };\n}\n\nexport async function fetchComments(id) {\n  const {\n    data: [\n      ,\n      {\n        data: { children }\n      }\n    ]\n  } = await axios.get(`https://www.reddit.com/r/hockey/comments/${id}.json`);\n\n  return children\n    .slice(0, children.length - 1)\n    .map(child => formatComment(child.data));\n}\n","import React, { Fragment } from 'react';\nimport styled, { css } from 'styled-components';\nimport moment from 'moment';\n\nconst GameListWrapper = styled.div`\n  grid-area: game-list;\n  display: flex;\n  overflow-x: scroll;\n  background: #ffffff;\n`;\n\nconst selected = css`\n  cursor: pointer;\n  border-top: 3px solid #4a4a4a;\n`;\n\nconst disabled = css`\n  cursor: normal;\n  pointer-events: none;\n`;\n\nconst GameWrapper = styled.div`\n  display: flex;\n  padding: 16px;\n  border-right: 1px solid #eee;\n\n  ${props => props.selected && selected};\n  ${props => props.disabled && disabled};\n  &:hover {\n    ${selected};\n  }\n`;\n\nconst TeamColumn = styled.div`\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n`;\n\nconst TeamName = styled.span`\n  font-size: 16px;\n  margin-bottom: 4px;\n`;\n\nconst TeamGoals = styled.span`\n  font-size: 24px;\n  font-weight: 500;\n`;\n\nconst StatusColumn = styled.div`\n  min-width: 100px;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n`;\n\nconst GamePeriod = styled.span`\n  font-size: 14px;\n  margin-bottom: 4px;\n`;\n\nconst GameClock = styled.span`\n  font-size: 14px;\n  font-weight: 300;\n\n  ${props => props.stopped && 'color: #e53935;'};\n`;\n\nfunction Game({ id, date, home, away, status, selected, onSelect }) {\n  const showDate = !status.started && !status.ended && !status.intermission;\n  const showPeriod = status.started && !status.ended && !status.intermission;\n  const showFinal = status.started && status.ended && !status.intermission;\n  const showIntermission =\n    status.started && !status.ended && status.intermission;\n  return (\n    <GameWrapper\n      onClick={() => onSelect(id)}\n      selected={selected}\n      disabled={date.diff(moment(), 'minutes') > 60}\n    >\n      <TeamColumn team={away.code}>\n        <TeamName>{away.code}</TeamName>\n        <TeamGoals>{away.goals}</TeamGoals>\n      </TeamColumn>\n      <StatusColumn>\n        {showDate && (\n          <Fragment>\n            <GamePeriod>{date.format('ddd Do')}</GamePeriod>\n            <GameClock>{date.format('h:mm A')}</GameClock>\n          </Fragment>\n        )}\n        {showPeriod && (\n          <Fragment>\n            <GamePeriod>{status.periodOrdinal}</GamePeriod>\n            <GameClock>{status.periodClock}</GameClock>\n          </Fragment>\n        )}\n        {showIntermission && (\n          <Fragment>\n            <GamePeriod>End {status.periodOrdinal}</GamePeriod>\n            <GameClock>{status.intermissionClock}</GameClock>\n          </Fragment>\n        )}\n        {showFinal && <GamePeriod>Final</GamePeriod>}\n      </StatusColumn>\n      <TeamColumn team={home.code}>\n        <TeamName>{home.code}</TeamName>\n        <TeamGoals>{home.goals}</TeamGoals>\n      </TeamColumn>\n    </GameWrapper>\n  );\n}\n\nexport function GameList({ games, selectedGameId, onSelectGame }) {\n  return (\n    <GameListWrapper>\n      {games.map(game => (\n        <Game\n          key={game.id}\n          {...game}\n          selected={game.id === selectedGameId}\n          onSelect={onSelectGame}\n        />\n      ))}\n    </GameListWrapper>\n  );\n}\n","import React from 'react';\n\nimport { css } from 'styled-components';\n\nexport const teams = {\n  ANA: {\n    common: css`\n      background-size: 150%;\n    `,\n    away: css`\n      background-position: 100% 50%;\n    `,\n    home: css`\n      background-position: 100% 50%;\n      transform: scaleX(-1);\n    `\n  },\n  ARI: {\n    common: css`\n      background-size: 175%;\n    `,\n    away: css`\n      background-position: 100% 25%;\n    `,\n    home: css`\n      background-position: 100% 25%;\n      transform: scaleX(-1);\n    `\n  },\n  BOS: {\n    common: css`\n      background-size: 110%;\n    `,\n    away: css`\n      background-position: 100% 50%;\n    `,\n    home: css`\n      background-position: 0 50%;\n    `\n  },\n  BUF: {\n    common: css`\n      background-size: 110%;\n    `,\n    away: css`\n      background-position: 0 40%;\n      transform: scaleX(-1);\n    `,\n    home: css`\n      background-position: 0 40%;\n    `\n  },\n  CAR: {\n    common: css`\n      background-size: 175%;\n    `,\n    away: css`\n      background-position: 100% 30%;\n    `,\n    home: css`\n      background-position: 100% 30%;\n      transform: scaleX(-1);\n    `\n  },\n  CBJ: {\n    common: css`\n      background-size: 125%;\n    `,\n    away: css`\n      background-position: 100% 50%;\n    `,\n    home: css`\n      background-position: 100% 50%;\n      transform: scaleX(-1);\n    `\n  },\n  CGY: {\n    common: css`\n      background-size: 125%;\n    `,\n    away: css`\n      background-position: 100% 50%;\n    `,\n    home: css`\n      background-position: 100% 50%;\n      transform: scaleX(-1);\n    `\n  },\n  CHI: {\n    common: css`\n      background-size: 125%;\n    `,\n    away: css`\n      background-position: 0 50%;\n      transform: scaleX(-1);\n    `,\n    home: css`\n      background-position: 0 50%;\n    `\n  },\n  COL: {\n    common: css`\n      background-size: 110%;\n    `,\n    away: css`\n      background-position: 100% 75%;\n    `,\n    home: css`\n      background-position: 100% 75%;\n      transform: scaleX(-1);\n    `\n  },\n  DAL: {\n    common: css`\n      background-size: 150%;\n    `,\n    away: css`\n      background-position: 100% 50%;\n    `,\n    home: css`\n      background-position: 100% 50%;\n      transform: scaleX(-1);\n    `\n  },\n  DET: {\n    common: css`\n      background-size: 160%;\n    `,\n    away: css`\n      background-position: 0 60%;\n      transform: scaleX(-1);\n    `,\n    home: css`\n      background-position: 0 60%;\n    `\n  },\n  EDM: {\n    common: css`\n      background-size: 110%;\n    `,\n    away: css`\n      background-position: 100% 50%;\n    `,\n    home: css`\n      background-position: 0 50%;\n    `\n  },\n  FLA: {\n    common: css`\n      background-size: 110%;\n    `,\n    away: css`\n      background-position: 0 40%;\n      transform: scaleX(-1);\n    `,\n    home: css`\n      background-position: 0 40%;\n    `\n  },\n  LAK: {\n    common: css`\n      background-size: 100%;\n    `,\n    away: css`\n      background-position: 100% 25%;\n    `,\n    home: css`\n      background-position: 0 25%;\n    `\n  },\n  MIN: {\n    common: css`\n      background-size: 150%;\n    `,\n    away: css`\n      background-position: 0 50%;\n      transform: scaleX(-1);\n    `,\n    home: css`\n      background-position: 0 50%;\n    `\n  },\n  MTL: {\n    common: css`\n      background-size: 150%;\n    `,\n    away: css`\n      background-position: 100% 50%;\n    `,\n    home: css`\n      background-position: 100% 50%;\n      transform: scaleX(-1);\n    `\n  },\n  NJD: {\n    common: css`\n      background-size: 110%;\n    `,\n    away: css`\n      background-position: 100% 50%;\n    `,\n    home: css`\n      background-position: 0 50%;\n    `\n  },\n  NSH: {\n    common: css`\n      background-size: 150%;\n    `,\n    away: css`\n      background-position: 100% 50%;\n    `,\n    home: css`\n      background-position: 100% 50%;\n      transform: scaleX(-1);\n    `\n  },\n  NYI: {\n    common: css`\n      background-size: 110%;\n    `,\n    away: css`\n      background-position: 100% 40%;\n    `,\n    home: css`\n      background-position: 0 40%;\n    `\n  },\n  NYR: {\n    common: css`\n      background-size: 110%;\n    `,\n    away: css`\n      background-position: 100% 50%;\n    `,\n    home: css`\n      background-position: 0 50%;\n    `\n  },\n  OTT: {\n    common: css`\n      background-size: 150%;\n    `,\n    away: css`\n      background-position: 100% 75%;\n    `,\n    home: css`\n      background-position: 100% 75%;\n      transform: scaleX(-1);\n    `\n  },\n  PHI: {\n    common: css`\n      background-size: 125%;\n    `,\n    away: css`\n      background-position: 100% 50%;\n    `,\n    home: css`\n      background-position: 100% 50%;\n      transform: scaleX(-1);\n    `\n  },\n  PIT: {\n    common: css`\n      background-size: 150%;\n    `,\n    away: css`\n      background-position: 0 20%;\n      transform: scaleX(-1);\n    `,\n    home: css`\n      background-position: 0 20%;\n    `\n  },\n  SJS: {\n    common: css`\n      background-size: 150%;\n    `,\n    away: css`\n      background-position: 100% 75%;\n    `,\n    home: css`\n      background-position: 100% 75%;\n      transform: scaleX(-1);\n    `\n  },\n  STL: {\n    common: css`\n      background-size: 125%;\n    `,\n    away: css`\n      background-position: 100% 50%;\n    `,\n    home: css`\n      background-position: 100% 50%;\n      transform: scaleX(-1);\n    `\n  },\n  TBL: {\n    common: css`\n      background-size: 125%;\n    `,\n    away: css`\n      background-position: 100% 50%;\n    `,\n    home: css`\n      background-position: 0 50%;\n    `\n  },\n  TOR: {\n    common: css`\n      background-size: 125%;\n    `,\n    away: css`\n      background-position: 100% 75%;\n    `,\n    home: css`\n      background-position: 0 75%;\n    `\n  },\n  VAN: {\n    common: css`\n      background-size: 125%;\n    `,\n    away: css`\n      background-position: 100% 75%;\n    `,\n    home: css`\n      background-position: 100% 75%;\n      transform: scaleX(-1);\n    `\n  },\n  VGK: {\n    common: css`\n      background-size: 110%;\n    `,\n    away: css`\n      background-position: 100% 50%;\n    `,\n    home: css`\n      background-position: 100% 50%;\n      transform: scaleX(-1);\n    `\n  },\n  WPG: {\n    common: css`\n      background-size: 125%;\n    `,\n    away: css`\n      background-position: 100% 50%;\n    `,\n    home: css`\n      background-position: 100% 50%;\n      transform: scaleX(-1);\n    `\n  },\n  WSH: {\n    common: css`\n      background-size: 110%;\n    `,\n    away: css`\n      background-position: 100% 50%;\n    `,\n    home: css`\n      background-position: 0 50%;\n    `\n  }\n};\n\nexport function Logo({ team, className }) {\n  return (\n    <img\n      className={className}\n      src={`logos/logo_${team.toLowerCase()}.svg`}\n      alt={`${team} Logo`}\n    />\n  );\n}\n","import React, { Fragment } from 'react';\nimport styled, { css } from 'styled-components';\n\nimport { Logo, teams } from './logo';\n\nconst GameViewWrapper = styled.div`\n  grid-area: game-view;\n  display: grid;\n  grid-gap: 16px;\n  grid-template-columns: 2fr 1fr;\n  grid-template-rows: 320px auto;\n  grid-template-areas:\n    'boxscore plays'\n    'comments plays';\n`;\n\nconst BoxscoreSection = styled.section`\n  grid-area: 'boxscore';\n  position: relative;\n  display: flex;\n  background: #ffffff;\n`;\n\nconst PlaysSection = styled.section`\n  grid-area: 'plays';\n`;\n\nconst CommentsSection = styled.section`\n  grid-area: 'comments';\n`;\n\nconst GameTitle = styled.div`\n  display: flex;\n  flex-direction: column;\n  position: absolute;\n  top: 16px;\n  left: 0;\n  right: 0;\n  text-align: center;\n  line-height: 1.6;\n  z-index: 1;\n`;\n\nconst TeamColumn = styled.div`\n  flex: 1;\n  position: relative;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  font-weight: 900;\n\n  * {\n    position: relative;\n  }\n`;\n\nconst TeamLogo = styled.div`\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  opacity: .05;\n  background-image: url('logos/logo_${props =>\n    props.team.toLowerCase()}.svg');  \n  background-repeat: no-repeat;\n  ${props => teams[props.team].common};\n  ${props => teams[props.team][props.side]};\n`;\n\nconst TeamName = styled.span`\n  font-size: 32px;\n`;\n\nconst TeamGoals = styled.span`\n  font-size: 96px;\n  line-height: 112px;\n`;\n\nconst TeamShots = styled.span`\n  font-size: 16px;\n  text-transform: uppercase;\n`;\n\nconst StatusColumn = styled.div`\n  min-width: 200px;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  font-size: 24px;\n`;\n\nconst GamePeriod = styled.span`\n  font-weight: 500;\n`;\n\nconst GameClock = styled.span`\n  text-align: center;\n  font-weight: 400;\n  line-height: 2;\n\n  ${props => props.stopped && 'color: #e53935;'};\n`;\n\nconst specialTeamStyles = {\n  even: css`\n    right: 50%;\n    bottom: 24px;\n    transform: translateX(50%);\n  `,\n  away: css`\n    top: 50%;\n    right: 50%;\n    transform: translateX(-250%) translateY(-50%);\n  `,\n  home: css`\n    top: 50%;\n    right: 50%;\n    transform: translateX(350%) translateY(-50%);\n  `\n};\n\nconst SpecialTeam = styled.div`\n  display: flex;\n  flex-direction: column;\n  position: absolute;\n  font-size: 18px;\n  ${props => specialTeamStyles[props.side]};\n`;\n\nconst themes = {\n  GOAL: 'rgba(76, 175, 80, 0.1)',\n  PENALTY: 'rgba(244, 67, 54, 0.1)',\n  PERIOD_START: 'rgba(33, 150, 243, .1)',\n  PERIOD_END: 'rgba(33, 150, 243, .1)',\n  GAME_END: 'rgba(255, 193, 7, .2)'\n};\n\nconst Play = styled.div`\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 16px;\n  background: ${props => themes[props.type]};\n  margin-bottom: 16px;\n`;\n\nconst PlayLogo = styled(Logo)`\n  max-width: 40px;\n  max-height: 40px;\n  flex-basis: 48px;\n`;\n\nconst PlayTitle = styled.span`\n  flex: 1;\n  text-align: center;\n  margin: 0 16px;\n  line-height: 1.6;\n`;\n\nconst PlayTime = styled.div`\n  display: flex;\n  flex-direction: column;\n  text-align: center;\n  flex-basis: 48px;\n\n  span:first-of-type {\n    font-weight: 500;\n    margin-bottom: 8px;\n  }\n\n  span:last-of-type {\n    font-size: 16px;\n  }\n`;\n\nconst Comment = styled.div`\n  display: flex;\n  align-items: flex-start;\n  background: #ffffff;\n  padding: 16px;\n  font-family: 'Roboto';\n  font-size: 14px;\n\n  h1,\n  h2,\n  h3,\n  h4,\n  h5,\n  h6 {\n    font-size: 16px;\n    font-weight: 500;\n    margin-bottom: 8px;\n  }\n\n  em {\n    font-style: italic;\n  }\n\n  strong {\n    font-weight: 500;\n  }\n\n  a {\n    color: #0099ff;\n    text-decoration: none;\n  }\n\n  table {\n    width: 100%;\n    font-size: 14px;\n    margin-bottom: 16px;\n  }\n\n  thead {\n    background: #4a4a4a;\n    color: #ffffff;\n  }\n\n  tbody {\n    background: #fafafa;\n  }\n\n  th,\n  td {\n    padding: 8px;\n  }\n`;\n\nconst CommentLogo = styled(Logo)`\n  flex-basis: 48px;\n  max-height: 32px;\n  max-width: 32px;\n  margin-right: 16px;\n`;\n\nconst CommentBody = styled.div`\n  display: flex;\n  flex-direction: column;\n`;\n\nconst CommentText = styled.div`\n  line-height: 1.6;\n`;\n\nconst CommentAuthor = styled.span`\n  font-weight: 500;\n  font-size: 10px;\n  margin-bottom: 4px;\n  text-transform: uppercase;\n`;\n\nexport function GameView({ date, title, home, away, status, plays, comments }) {\n  const showDate = !status.started && !status.ended && !status.intermission;\n  const showPeriod = status.started && !status.ended && !status.intermission;\n  const showFinal = status.started && status.ended && !status.intermission;\n  const showIntermission =\n    status.started && !status.ended && status.intermission;\n  const showPowerplay = status.started && !status.ended && status.powerplay;\n  return (\n    <GameViewWrapper>\n      <BoxscoreSection>\n        <GameTitle>\n          <span>\n            {away.name} at {home.name}\n          </span>\n          <span>{title}</span>\n        </GameTitle>\n        <TeamColumn>\n          <TeamLogo team={away.code} side=\"away\" />\n          <TeamName>{away.code}</TeamName>\n          <TeamGoals>{away.goals}</TeamGoals>\n          <TeamShots>{away.shots} Shots</TeamShots>\n        </TeamColumn>\n        <StatusColumn>\n          {showDate && (\n            <Fragment>\n              <GamePeriod>{date.format('ddd Do')}</GamePeriod>\n              <GameClock>{date.format('h:mm A')}</GameClock>\n            </Fragment>\n          )}\n          {showPeriod && (\n            <Fragment>\n              <GamePeriod>{status.periodOrdinal}</GamePeriod>\n              <GameClock stopped={status.stopped}>\n                {status.periodClock}\n              </GameClock>\n            </Fragment>\n          )}\n          {showIntermission && (\n            <Fragment>\n              <GamePeriod>End {status.periodOrdinal}</GamePeriod>\n              <GameClock>{status.intermissionClock}</GameClock>\n            </Fragment>\n          )}\n          {showFinal && <GamePeriod>Final</GamePeriod>}\n        </StatusColumn>\n        <TeamColumn>\n          <TeamLogo team={home.code} side=\"home\" />\n          <TeamName>{home.code}</TeamName>\n          <TeamGoals>{home.goals}</TeamGoals>\n          <TeamShots>{home.shots} Shots</TeamShots>\n        </TeamColumn>\n        {showPowerplay && (\n          <SpecialTeam side={status.powerplaySide}>\n            {home.skaters > away.skaters ? (\n              <GamePeriod>\n                {home.skaters} on {away.skaters}\n              </GamePeriod>\n            ) : (\n              <GamePeriod>\n                {away.skaters} on {home.skaters}\n              </GamePeriod>\n            )}\n            <GameClock>{status.powerplayClock}</GameClock>\n          </SpecialTeam>\n        )}\n      </BoxscoreSection>\n      <PlaysSection>\n        {plays.map(play => (\n          <Play key={play.id} type={play.type}>\n            <PlayLogo team={play.team ? play.team : away.code} />\n            <PlayTitle>{play.title}</PlayTitle>\n            {play.team ? (\n              <PlayTime>\n                <span>{play.period}</span>\n                <span>{play.time}</span>\n              </PlayTime>\n            ) : (\n              <PlayLogo team={home.code} />\n            )}\n          </Play>\n        ))}\n      </PlaysSection>\n      <CommentsSection>\n        {comments.slice(0, 20).map(comment => (\n          <Comment key={comment.id}>\n            <CommentLogo team={comment.team} />\n            <CommentBody>\n              <CommentAuthor>{comment.author}</CommentAuthor>\n              <CommentText dangerouslySetInnerHTML={{ __html: comment.body }} />\n            </CommentBody>\n          </Comment>\n        ))}\n      </CommentsSection>\n    </GameViewWrapper>\n  );\n}\n","import React, { Component } from 'react';\nimport styled, { keyframes } from 'styled-components';\nimport {\n  fetchUpcomingGames,\n  fetchGameThreads,\n  fetchComments\n} from '../util/apis';\n\nimport { GameList } from './game-list';\nimport { GameView } from './game-view';\n\nconst ApplicationWrapper = styled.div`\n  max-width: 1280px;\n  min-height: 100vh;\n  margin: 32px auto;\n  display: grid;\n  grid-gap: 16px;\n  grid-template-rows: 80px auto;\n  grid-template-areas:\n    'game-list'\n    'game-view';\n`;\n\nconst fill = keyframes`\n  to {\n    max-width: 100vw;\n  }\n`;\n\nconst RefreshTimer = styled.div`\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100vw;\n  height: 4px;\n  max-width: 0;\n  animation: ${fill} 15s linear infinite;\n  background: #4a4a4a;\n`;\n\nexport class Application extends Component {\n  state = {\n    games: [],\n    threads: [],\n    commentsById: {},\n    selectedGameId: null\n  };\n\n  async componentDidMount() {\n    const refreshGames = async () => {\n      const games = await fetchUpcomingGames();\n      this.setState({ games });\n    };\n\n    const refreshGameThreads = async () => {\n      const threads = await fetchGameThreads(this.state.games);\n      this.setState({ threads });\n    };\n\n    const refreshComments = async () => {\n      const { threads } = this.state;\n      const comments = await Promise.all(\n        threads.map(thread => fetchComments(thread.id))\n      );\n      this.setState(state => ({\n        commentsById: comments.reduce(\n          (acc, comment, i) => ({ ...acc, [threads[i].id]: comment }),\n          state.commentsById\n        )\n      }));\n    };\n\n    setInterval(() => refreshGames(), 1000 * 15);\n    setInterval(() => refreshGameThreads(), 1000 * 60);\n    setInterval(() => refreshComments(), 1000 * 30);\n\n    await refreshGames();\n    await refreshGameThreads();\n    refreshComments();\n  }\n\n  render() {\n    const { games, threads, commentsById, selectedGameId } = this.state;\n    const game = games.find(game => game.id === selectedGameId) || {};\n    const thread = threads.find(t => t.game === game.id) || {};\n\n    return (\n      <ApplicationWrapper>\n        <RefreshTimer />\n        <GameList\n          games={games}\n          selectedGameId={selectedGameId}\n          onSelectGame={selectedGameId => this.setState({ selectedGameId })}\n        />\n        {game.id && (\n          <GameView {...game} comments={commentsById[thread.id] || []} />\n        )}\n      </ApplicationWrapper>\n    );\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport { Application } from './components/app';\n\nReactDOM.render(<Application />, document.getElementById('root'));\n"],"sourceRoot":""}